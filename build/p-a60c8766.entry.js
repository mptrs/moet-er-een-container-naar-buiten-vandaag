import{r as e,h as t,H as n,c as r}from"./p-543a2680.js";const i=class{constructor(t){e(this,t),this.answer=null}answerHandler(e){window.scrollTo(0,0),this.answer=e.detail}resetContent(){this.answer=null}render(){let e=t("h1",null,"Moet er een container naar buiten vandaag?"),r=null;return this.answer&&(this.answer.today?(r=null,e=t("h1",null,"Jazeker,",t("br",null),"pak de ",this.answer.garbageType," container maar!")):this.answer.message?e=t("h1",null,this.answer.message):(e=t("h1",null,"Vandaag niet!!"),r=t("p",null,"Maar ",this.answer.nextTrashDate," mag je lopen met ",this.answer.garbageType," container."))),t(n,null,t("header",null,e),r)}};i.style=":host{display:block}h1{font-family:'Abril Fatface', cursive;background-image:url('https://images.unsplash.com/photo-1605600659908-0ef719419d41?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyNDk4OTN8MHwxfHNlYXJjaHwxfHxnYXJiYWdlfGVufDB8fHx8MTYyNzg0MTkzNA&ixlib=rb-1.2.1&q=80&w=1080');background-repeat:no-repeat;background-position:center;background-size:cover;font-size:4rem;line-height:3.5rem;margin:0;padding:0 0 2.5rem;font-weight:800;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;max-width:9ch}p{font-size:1.5rem}@media only screen and (min-width: 1270px){h1{font-size:8rem;line-height:7rem}}";const o=class{constructor(t){e(this,t),this.answerReceived=r(this,"answerReceived",7),this.resetContent=r(this,"resetContent",7),this.isLoading=!1}getGarbageData(e){e.preventDefault(),this.resetContent.emit(),this.isLoading=!0,setTimeout((()=>{fetch(`https://broad-cherry-0038.mptrs.workers.dev/https://www.rova.nl/api/waste-calendar/upcoming?postalcode=${this.postcodeInput.value.replace(" ","")}&houseNumber=${this.huisnummerInput.value}`).then((e=>e.json())).then((e=>{if(!e||0===e.length||e.isError)throw new Error(e.exceptionMessage);this.answerReceived.emit({today:this.dateIsTomorrow(e[0].date),garbageType:e[0].garbageType,nextTrashDate:this.nextDate(e[0].date)}),this.isLoading=!1})).catch((e=>{this.handleError(e),this.isLoading=!1}))}),1e3)}handleError(e){console.error(e.message),this.answerReceived.emit({message:"Geen idee, even buiten checken?"})}dateIsTomorrow(e){const t=new Date(e),n=new Date,r=new Date(n);return r.setDate(r.getDate()+1),r.getFullYear()==t.getFullYear()&&r.getMonth()==t.getMonth()&&r.getDate()==t.getDate()}nextDate(e){const t=new Date(e),n=new Date(t);return n.setDate(t.getDate()-1),n.toLocaleDateString()}render(){let e="Moet ik lopen?";return this.isLoading&&(e="Momentje..."),t(n,null,t("form",{onSubmit:e=>{this.getGarbageData(e)}},t("input",{type:"text",required:!0,pattern:"^[1-9][0-9]{3} ?(?!sa|sd|ss|SA|SD|SS)[A-Za-z]{2}$",name:"postcode",id:"postcode",placeholder:"Postcode",ref:e=>this.postcodeInput=e}),t("input",{type:"text",required:!0,name:"huisnummer",id:"huisnummer",placeholder:"Huisnummer",ref:e=>this.huisnummerInput=e}),t("button",{type:"submit",disabled:this.isLoading},e)))}};o.style=":host{display:block}button{background:#000;color:#fff;padding:1rem;font-weight:bold;cursor:pointer;border-radius:4px;border-color:#000;border-width:4px;font-size:22px}button:hover{background:linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);background-size:200% 200%;animation:gradient 10s ease infinite}input{font-size:22px;padding:1rem;border:4px solid;border-radius:4px;margin-bottom:2rem;font-weight:600}::placeholder{color:#c4c4c4}form{display:flex;flex-direction:column;max-width:35rem}@media only screen and (min-width: 1270px){button,input{font-size:40px}}@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}";export{i as question_answer,o as trash_data}